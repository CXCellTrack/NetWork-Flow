%% 函数5：枚举毛刺矩阵（原先在外部，现在移入）
function [ out ] = CX_maocijuzhen( flag )

if ~flag % flag=0 则选取毛刺，否则选取正常，实际上发现选取正常是有问题的，所以只能选取毛刺 2015.6.26
    
    a={}; % 矩阵的形状代表各种毛刺，目前只考虑3*3内有2,3,4个亮点，5个暂不考虑

    % ===== 对角毛刺
    a{1}=[1 0 0;
         0 1 0;
         0 0 0];
    a{2}=[0 0 1;
         0 1 0;
         0 0 0];
    a{3}=[0 0 0;
         0 1 0;
         1 0 0];
    a{4}=[0 0 0;
         0 1 0;
         0 0 1];
     
    % ===== 多余1块
    a{5}=[1 0 0;
         1 1 0;
         0 0 0];
    a{6}=[0 0 0;
         1 1 0;
         1 0 0];
    a{7}=[1 1 0;
         0 1 0;
         0 0 0];
    a{8}=[0 1 1;
         0 1 0;
         0 0 0];
    a{9}=[0 0 1;
         0 1 1;
         0 0 0];
    a{10}=[0 0 0;
         0 1 1;
         0 0 1];
    a{11}=[0 0 0;
         0 1 0;
         0 1 1];
    a{12}=[0 0 0;
         0 1 0;
         1 1 0];
    a{13}=[1 0 0;
           1 1 0;
           1 0 0];
    a{14}=[1 1 1;
           0 1 0;
           0 0 0];
    a{15}=[0 0 1;
           0 1 1;
           0 0 1];
    a{16}=[0 0 0;
           0 1 0;
           1 1 1];
       
    % ===== 四方毛刺
    a{17}=[1 1 0
           1 1 0
           0 0 0];
    a{18}=[0 1 1
           0 1 1
           0 0 0];
    a{19}=[0 0 0
           0 1 1
           0 1 1];
    a{20}=[0 0 0
           1 1 0
           1 1 0];
       
    % ===== 长条毛刺
    a{21}=[0 1 0
           0 1 0
           0 0 0];
    a{22}=[0 0 0
           0 1 1
           0 0 0];
    a{23}=[0 0 0
           1 1 0
           0 0 0];
    a{24}=[0 0 0
           0 1 0
           0 1 0]; 
       
%     % ===== 叉形毛刺（只出现在2个大椭圆相接时）
%     a{25}=[1 0 1
%            0 1 0
%            1 0 1];
       
else
% =============== % 反其道行之，只寻可能存在的形状，只认同一个像素只与另外2个像素相连接
    a = {};

    % === 一字形 
    a{1} = [0 1 0
           0 1 0
           0 1 0]; 

    a{2} = a{1}';

    % === 三角
    a{3} = [0 0 0
            0 1 0
            1 0 1];

    a{4} = [1 0 0
            0 1 0
            1 0 0];

    a{5} = [1 0 1
            0 1 0
            0 0 0];

    a{6} = [0 0 1
            0 1 0
            0 0 1];

    % === 对角
    a{7} = [0 0 1
            0 1 0
            1 0 0];

    a{8} = [1 0 0
            0 1 0
            0 0 1];

    % === 直角
    % b{9} = [0 1 0
    %         1 1 0
    %         0 0 0];
    %     
    % b{10} = [0 1 0
    %          0 1 1
    %          0 0 0];
    % 
    % b{11} = [0 0 0
    %          0 1 1
    %          0 1 0];
    %      
    % b{12} = [0 0 0
    %          1 1 0
    %          0 1 0];

    % === 145度
    a{13} = [1 0 0
             0 1 0
             0 1 0];

    a{14} = [0 0 1
             0 1 0
             0 1 0];

    a{15} = [0 0 1
             1 1 0
             0 0 0];

    a{16} = [0 0 0
             1 1 0
             0 0 1];

    a{17} = [0 1 0
             0 1 0
             0 0 1];

    a{18} = [0 1 0
             0 1 0
             1 0 0];

    a{19} = [0 0 0
             0 1 1
             1 0 0];

    a{20} = [1 0 0
             0 1 1
             0 0 0];

end

out = a ;

end